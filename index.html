<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portf√≥lio - Juliana F√©lix</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // --- Firebase Setup (DO NOT EDIT) ---
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        
        let db, auth;
        let userId;

        async function initializeFirebase() {
            try {
                const app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);

                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }
                
                userId = auth.currentUser?.uid;
                console.log("Firebase initialized. User ID:", userId);
                
                // Once authenticated, start the app logic
                setupApp();
            } catch (error) {
                console.error("Firebase initialization failed:", error);
            }
        }
        
        function setupApp() {
            // Get references to elements
            const portfolioView = document.getElementById('portfolio-view');
            const dashboardView = document.getElementById('dashboard-view');
            const editButton = document.getElementById('edit-button');
            const saveButton = document.getElementById('save-button');
            const cancelButton = document.getElementById('cancel-button');
            const userIdDisplay = document.getElementById('user-id');
            
            // Show the current user ID
            if (userIdDisplay) {
                userIdDisplay.textContent = `Seu ID de usu√°rio: ${userId}`;
            }

            // --- Views Management ---
            let isEditing = false;
            
            function showPortfolioView() {
                isEditing = false;
                portfolioView.classList.remove('hidden');
                dashboardView.classList.add('hidden');
                editButton.classList.remove('hidden');
            }

            function showDashboardView() {
                isEditing = true;
                portfolioView.classList.add('hidden');
                dashboardView.classList.remove('hidden');
                editButton.classList.add('hidden');
                loadDataToDashboard();
            }

            // Event listeners for view switching
            editButton.addEventListener('click', showDashboardView);
            cancelButton.addEventListener('click', showPortfolioView);

            // --- Data Handling ---
            const docRef = doc(db, 'artifacts', appId, 'public', 'data', 'portfolios', userId);

            // Function to load data from Firestore and update the portfolio
            function loadDataToPortfolio(data) {
                // Sobre Mim
                document.getElementById('profile-title').textContent = data.name || 'Juliana F√©lix de Luna';
                document.getElementById('profile-subtitle').textContent = data.title || 'üë©‚Äçüíª Social Media Estrat√©gica';
                document.getElementById('profile-desc-1').textContent = data.about1 || 'Sou Social Media e trabalho criando estrat√©gias digitais que conectam marcas ao seu p√∫blico. Minha miss√£o √© transformar ideias em conte√∫dos que geram engajamento, fortalecem o branding e despertam confian√ßa.';
                document.getElementById('profile-desc-2').textContent = data.about2 || 'Com experi√™ncia em gest√£o de redes sociais, produ√ß√£o de roteiros, storytelling e design de posts, atuo tanto na parte criativa quanto na organiza√ß√£o de processos, garantindo consist√™ncia e resultados.';
                
                // Contatos
                document.getElementById('contact-location').textContent = data.location || 'Franco da Rocha ‚Äì SP';
                document.getElementById('contact-email').textContent = data.email || 'julianafelix@email.com';
                document.getElementById('contact-phone').textContent = data.phone || '(11) 9xxxx-xxxx';
                document.getElementById('contact-email').dataset.text = data.email || 'julianafelix@email.com';
                document.getElementById('contact-phone').dataset.text = data.phone || '(11) 9xxxx-xxxx';

                // Clientes
                const clientsContainer = document.getElementById('clients-container');
                clientsContainer.innerHTML = '';
                (data.clients || []).forEach(client => {
                    const clientCard = document.createElement('div');
                    clientCard.className = 'bg-white p-6 rounded-xl shadow-lg transform transition-transform hover:scale-105';
                    clientCard.innerHTML = `
                        <h3 class="text-xl font-bold text-indigo-600 mb-2">${client.icon} ${client.name}</h3>
                        <p class="text-gray-700 mb-4"><span class="font-semibold">Desafio:</span> ${client.challenge}</p>
                        <p class="text-gray-700 mb-4"><span class="font-semibold">Solu√ß√£o:</span> ${client.solution}</p>
                        <div class="w-full h-48 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden mb-4">
                            <span class="text-sm text-gray-500">Imagem do projeto</span>
                        </div>
                        <p class="text-sm text-gray-600 italic">${client.caption}</p>
                    `;
                    clientsContainer.appendChild(clientCard);
                });

                // Servi√ßos
                const servicesContainer = document.getElementById('services-container');
                servicesContainer.innerHTML = '';
                (data.services || []).forEach(service => {
                    const serviceItem = document.createElement('div');
                    serviceItem.className = 'flex items-start gap-4 p-4 bg-white rounded-xl shadow-md';
                    serviceItem.innerHTML = `<span class="text-green-500 mt-1">‚úÖ</span><p class="text-gray-700">${service}</p>`;
                    servicesContainer.appendChild(serviceItem);
                });

                // Mockups
                const mockupsContainer = document.getElementById('mockups-container');
                mockupsContainer.innerHTML = '';
                (data.mockups || []).forEach(mockup => {
                    const mockupCard = document.createElement('div');
                    mockupCard.className = 'w-full h-64 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden';
                    mockupCard.innerHTML = `<span class="text-sm text-gray-500">${mockup.name}</span>`;
                    mockupsContainer.appendChild(mockupCard);
                });
            }

            // Function to load data into the dashboard forms
            function loadDataToDashboard() {
                const fields = {
                    name: 'dashboard-name',
                    title: 'dashboard-title',
                    about1: 'dashboard-about-1',
                    about2: 'dashboard-about-2',
                    location: 'dashboard-location',
                    email: 'dashboard-email',
                    phone: 'dashboard-phone',
                };
                
                getDoc(docRef).then(docSnap => {
                    if (docSnap.exists()) {
                        const data = docSnap.data();
                        for (const key in fields) {
                            document.getElementById(fields[key]).value = data[key] || '';
                        }
                        
                        // Handle clients, services, mockups
                        document.getElementById('dashboard-clients').value = JSON.stringify(data.clients || [], null, 2);
                        document.getElementById('dashboard-services').value = (data.services || []).join('\n');
                        document.getElementById('dashboard-mockups').value = JSON.stringify(data.mockups || [], null, 2);
                    } else {
                        console.log("Document does not exist, using default values.");
                    }
                }).catch(error => {
                    console.error("Error loading document:", error);
                });
            }

            // Function to save data from the dashboard to Firestore
            saveButton.addEventListener('click', async () => {
                const data = {
                    name: document.getElementById('dashboard-name').value,
                    title: document.getElementById('dashboard-title').value,
                    about1: document.getElementById('dashboard-about-1').value,
                    about2: document.getElementById('dashboard-about-2').value,
                    location: document.getElementById('dashboard-location').value,
                    email: document.getElementById('dashboard-email').value,
                    phone: document.getElementById('dashboard-phone').value,
                    
                    // Parse lists from textareas
                    clients: JSON.parse(document.getElementById('dashboard-clients').value),
                    services: document.getElementById('dashboard-services').value.split('\n').filter(s => s.trim() !== ''),
                    mockups: JSON.parse(document.getElementById('dashboard-mockups').value),
                };
                
                await setDoc(docRef, data, { merge: true });
                showPortfolioView();
            });

            // Start listening for real-time updates
            onSnapshot(docRef, (doc) => {
                if (doc.exists()) {
                    loadDataToPortfolio(doc.data());
                } else {
                    console.log("No document found. Portfolio will show default content.");
                }
            });
        }
        
        // Initialize Firebase on window load
        window.onload = initializeFirebase;
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1f2937;
        }
        .section-padding {
            padding: 4rem 1.5rem;
        }
        .gradient-bg {
            background-image: linear-gradient(to right, #4c51bf, #6b46c1);
        }
        html {
            scroll-behavior: smooth;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header & Navigation -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-gray-900">Juliana F√©lix</a>
            <div class="space-x-4 flex items-center">
                <a href="#apresentacao" class="text-gray-600 hover:text-indigo-500 transition-colors">Sobre</a>
                <a href="#clientes" class="text-gray-600 hover:text-indigo-500 transition-colors">Clientes</a>
                <a href="#servicos" class="text-gray-600 hover:text-indigo-500 transition-colors">Servi√ßos</a>
                <a href="#contato" class="text-gray-600 hover:text-indigo-500 transition-colors">Contato</a>
                <button id="edit-button" class="bg-indigo-500 text-white px-4 py-2 rounded-lg hover:bg-indigo-600 transition-colors">
                    Editar Portf√≥lio
                </button>
            </div>
        </nav>
    </header>

    <!-- Public Portfolio View -->
    <div id="portfolio-view">
        <!-- Apresenta√ß√£o Section -->
        <section id="apresentacao" class="section-padding bg-gray-100">
            <div class="container mx-auto max-w-4xl flex flex-col md:flex-row items-center gap-10">
                <div class="w-full md:w-1/3">
                    <div class="w-64 h-64 mx-auto md:mx-0 bg-gray-300 rounded-full flex items-center justify-center overflow-hidden shadow-lg">
                        <!-- Imagem de perfil -->
                        <span class="text-sm text-gray-500">Foto de perfil</span>
                    </div>
                </div>
                <div class="w-full md:w-2/3 text-center md:text-left">
                    <h1 id="profile-title" class="text-4xl font-extrabold text-gray-900 mb-2">Juliana F√©lix de Luna</h1>
                    <p id="profile-subtitle" class="text-indigo-600 font-semibold text-xl mb-4">üë©‚Äçüíª Social Media Estrat√©gica</p>
                    <p id="profile-desc-1" class="text-gray-700 leading-relaxed mb-6"></p>
                    <p id="profile-desc-2" class="text-gray-700 leading-relaxed mb-6"></p>
                    <div class="flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4 text-gray-600 text-sm">
                        <span id="contact-location" class="flex items-center gap-2">
                            <svg class="w-5 h-5 text-indigo-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg>
                        </span>
                        <button onclick="copyToClipboard(this.dataset.text)" id="contact-email" class="flex items-center gap-2 hover:text-indigo-500 transition-colors">
                            <svg class="w-5 h-5 text-indigo-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg>
                        </button>
                        <button onclick="copyToClipboard(this.dataset.text)" id="contact-phone" class="flex items-center gap-2 hover:text-indigo-500 transition-colors">
                            <svg class="w-5 h-5 text-indigo-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.774a11.096 11.096 0 007.82 7.82l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path></svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Clientes Atendidos Section -->
        <section id="clientes" class="section-padding">
            <div class="container mx-auto max-w-5xl">
                <h2 class="text-3xl font-bold text-center mb-12 text-gray-900">Clientes Atendidos</h2>
                <div id="clients-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Clientes ser√£o carregados aqui -->
                </div>
            </div>
        </section>

        <!-- Conte√∫dos Demonstrativos Section -->
        <section id="mockups" class="section-padding bg-gray-100">
            <div class="container mx-auto max-w-5xl">
                <h2 class="text-3xl font-bold text-center mb-12 text-gray-900">Conte√∫dos Demonstrativos</h2>
                <p class="text-center text-gray-700 mb-8">
                    üîÆ Para demonstrar versatilidade, desenvolvi exemplos de posts fict√≠cios inspirados em marcas conhecidas:
                </p>
                <div id="mockups-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Mockups ser√£o carregados aqui -->
                </div>
            </div>
        </section>

        <!-- Servi√ßos Oferecidos Section -->
        <section id="servicos" class="section-padding">
            <div class="container mx-auto max-w-4xl">
                <h2 class="text-3xl font-bold text-center mb-12 text-gray-900">Servi√ßos Oferecidos</h2>
                <div id="services-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Servi√ßos ser√£o carregados aqui -->
                </div>
            </div>
        </section>

        <!-- Contato Section -->
        <section id="contato" class="section-padding gradient-bg text-white">
            <div class="container mx-auto max-w-4xl text-center">
                <h2 class="text-3xl font-bold mb-8">Vamos Conversar!</h2>
                <p class="text-lg mb-8">
                    Estou pronta para transformar a presen√ßa digital da sua marca. Entre em contato para construirmos juntos uma estrat√©gia de sucesso.
                </p>
                <div class="flex flex-col sm:flex-row items-center justify-center gap-6 text-sm sm:text-base">
                    <div id="contact-location-footer" class="flex items-center gap-2">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path></svg>
                    </div>
                    <button onclick="copyToClipboard(this.dataset.text)" id="contact-email-footer" class="flex items-center gap-2 hover:underline transition-colors">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg>
                    </button>
                    <button onclick="copyToClipboard(this.dataset.text)" id="contact-phone-footer" class="flex items-center gap-2 hover:underline transition-colors">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.774a11.096 11.096 0 007.82 7.82l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path></svg>
                    </button>
                </div>
            </div>
        </section>
        
        <footer class="bg-gray-800 text-white text-center py-6 text-sm">
            <div class="container mx-auto px-6">
                &copy; 2024 Juliana F√©lix. Todos os direitos reservados.
            </div>
        </footer>
    </div>
    
    <!-- Admin Dashboard View -->
    <div id="dashboard-view" class="hidden section-padding bg-gray-100">
        <div class="container mx-auto max-w-4xl bg-white p-8 rounded-lg shadow-xl">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-900">Painel de Edi√ß√£o</h2>
                <div class="text-sm text-gray-500 font-mono" id="user-id"></div>
            </div>
            
            <form id="dashboard-form" class="space-y-6">
                <!-- Se√ß√£o Sobre Mim -->
                <div>
                    <h3 class="text-xl font-bold mb-4">Sobre Mim</h3>
                    <div class="space-y-4">
                        <label class="block">
                            <span class="text-gray-700">Nome</span>
                            <input type="text" id="dashboard-name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </label>
                        <label class="block">
                            <span class="text-gray-700">T√≠tulo/Profiss√£o</span>
                            <input type="text" id="dashboard-title" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </label>
                        <label class="block">
                            <span class="text-gray-700">Primeiro par√°grafo de "Sobre Mim"</span>
                            <textarea id="dashboard-about-1" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"></textarea>
                        </label>
                        <label class="block">
                            <span class="text-gray-700">Segundo par√°grafo de "Sobre Mim"</span>
                            <textarea id="dashboard-about-2" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"></textarea>
                        </label>
                    </div>
                </div>

                <!-- Se√ß√£o de Contatos -->
                <div>
                    <h3 class="text-xl font-bold mb-4">Contatos</h3>
                    <div class="space-y-4">
                        <label class="block">
                            <span class="text-gray-700">Localiza√ß√£o</span>
                            <input type="text" id="dashboard-location" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </label>
                        <label class="block">
                            <span class="text-gray-700">E-mail</span>
                            <input type="email" id="dashboard-email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </label>
                        <label class="block">
                            <span class="text-gray-700">Telefone</span>
                            <input type="tel" id="dashboard-phone" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
                        </label>
                    </div>
                </div>

                <!-- Se√ß√£o de Clientes -->
                <div>
                    <h3 class="text-xl font-bold mb-4">Clientes Atendidos</h3>
                    <p class="text-sm text-gray-500 mb-2">Edite os clientes como um array JSON.</p>
                    <textarea id="dashboard-clients" rows="10" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"></textarea>
                    <pre class="mt-2 p-2 bg-gray-200 text-xs rounded-md">Exemplo de formato:<br>[<br>  { "name": "Dupla Vis√£o Podcast", "icon": "üéô", "challenge": "Criar identidade...", "solution": "Cria√ß√£o de calend√°rio...", "caption": "Legenda curta..." },<br>  { "name": "Energy Brasil", "icon": "‚ö°", "challenge": "Fortalecer...", "solution": "Posts institucionais...", "caption": "Legenda..." }<br>]</pre>
                </div>
                
                <!-- Se√ß√£o de Servi√ßos -->
                <div>
                    <h3 class="text-xl font-bold mb-4">Servi√ßos Oferecidos</h3>
                    <p class="text-sm text-gray-500 mb-2">Edite os servi√ßos, um por linha.</p>
                    <textarea id="dashboard-services" rows="7" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"></textarea>
                </div>

                <!-- Se√ß√£o de Mockups -->
                <div>
                    <h3 class="text-xl font-bold mb-4">Conte√∫dos Demonstrativos (Mockups)</h3>
                    <p class="text-sm text-gray-500 mb-2">Edite os mockups como um array JSON.</p>
                    <textarea id="dashboard-mockups" rows="7" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"></textarea>
                    <pre class="mt-2 p-2 bg-gray-200 text-xs rounded-md">Exemplo de formato:<br>[<br>  { "name": "Mockup Natura" },<br>  { "name": "Mockup Nubank" },<br>  { "name": "Mockup Netflix" }<br>]</pre>
                </div>
                
                <div class="flex justify-end space-x-4 mt-6">
                    <button type="button" id="cancel-button" class="bg-gray-400 text-gray-800 px-6 py-2 rounded-lg hover:bg-gray-500 transition-colors">
                        Cancelar
                    </button>
                    <button type="button" id="save-button" class="bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors">
                        Salvar Altera√ß√µes
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <script>
        function copyToClipboard(text) {
            var tempInput = document.createElement("input");
            tempInput.value = text;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand("copy");
            document.body.removeChild(tempInput);
            // In a real app, show a toast message here
        }
    </script>

</body>
</html>
